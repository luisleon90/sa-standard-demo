{"semantic_models": [{"name": "customers", "defaults": null, "description": "Customer dim table at the individual customer level.  This table contains one row\nper customer and includes the customer key\n", "node_relation": {"alias": "dim_customers_v2", "schema_name": "dbt_lleon", "database": "analytics", "relation_name": "analytics.dbt_lleon.dim_customers_v2"}, "primary_entity": null, "entities": [{"name": "customer", "description": null, "type": "primary", "role": null, "expr": "customer_key", "metadata": null, "label": null}], "measures": [], "dimensions": [{"name": "customer_market_segment", "description": "The market segment the customer belongs to", "type": "categorical", "is_partition": false, "type_params": null, "expr": "market_segment", "metadata": null, "label": null}, {"name": "customer_balance_segment", "description": "Bucketing customers by their account balance", "type": "categorical", "is_partition": false, "type_params": null, "expr": "case\n  when account_balance < 0 then 'Bad Debt'\n  when account_balance < 2500 then 'Low'\n  when account_balance < 7500 then 'Medium'\n  else 'High'\nend", "metadata": null, "label": null}, {"name": "nation", "description": "The nation the customer belongs to", "type": "categorical", "is_partition": false, "type_params": null, "expr": "nation", "metadata": null, "label": null}, {"name": "region", "description": "The region the customer belongs to", "type": "categorical", "is_partition": false, "type_params": null, "expr": "region", "metadata": null, "label": null}], "label": null, "metadata": null, "config": {"meta": {}}}, {"name": "orders", "defaults": {"agg_time_dimension": "order_date"}, "description": "Order fact table at the order level.  This table contains one row\nper order and includes the order key\n", "node_relation": {"alias": "fct_orders", "schema_name": "dbt_lleon", "database": "analytics", "relation_name": "analytics.dbt_lleon.fct_orders"}, "primary_entity": null, "entities": [{"name": "customer_order", "description": null, "type": "primary", "role": null, "expr": "order_key", "metadata": null, "label": null}, {"name": "customer", "description": null, "type": "foreign", "role": null, "expr": "customer_key", "metadata": null, "label": null}], "measures": [{"name": "total_revenue", "agg": "sum", "description": null, "create_metric": false, "expr": "gross_item_sales_amount", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "total_customers", "agg": "count_distinct", "description": null, "create_metric": false, "expr": "customer_key", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}], "dimensions": [{"name": "order_date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": null, "metadata": null, "label": null}, {"name": "order_status_code", "description": "Indicates the status of the order", "type": "categorical", "is_partition": false, "type_params": null, "expr": "status_code", "metadata": null, "label": null}, {"name": "order_priority_code", "description": "Indicates the priority of the order", "type": "categorical", "is_partition": false, "type_params": null, "expr": "priority_code", "metadata": null, "label": null}, {"name": "clerk_on_order", "description": "The clerk on the order", "type": "categorical", "is_partition": false, "type_params": null, "expr": "clerk_name", "metadata": null, "label": null}], "label": null, "metadata": null, "config": {"meta": {}}}, {"name": "order_items", "defaults": {"agg_time_dimension": "order_date"}, "description": "Line items for an order.  An order_key can be represented multiple times\nin this table\n", "node_relation": {"alias": "fct_order_items", "schema_name": "dbt_lleon", "database": "analytics", "relation_name": "analytics.dbt_lleon.fct_order_items"}, "primary_entity": null, "entities": [{"name": "order_item", "description": null, "type": "primary", "role": null, "expr": "order_item_key", "metadata": null, "label": null}, {"name": "supplier", "description": null, "type": "foreign", "role": null, "expr": "supplier_key", "metadata": null, "label": null}, {"name": "customer", "description": null, "type": "foreign", "role": null, "expr": "customer_key", "metadata": null, "label": null}, {"name": "customer_order", "description": null, "type": "foreign", "role": null, "expr": "order_key", "metadata": null, "label": null}], "measures": [{"name": "total_expense", "agg": "sum", "description": null, "create_metric": false, "expr": "supplier_cost", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}], "dimensions": [{"name": "order_date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": null, "metadata": null, "label": null}], "label": null, "metadata": null, "config": {"meta": {}}}], "metrics": [{"name": "cumulative_revenue_total", "description": "The cumulative revenue for the business", "type": "cumulative", "type_params": {"measure": {"name": "total_revenue", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": {"window": null, "grain_to_date": null, "period_agg": "first"}, "input_measures": [{"name": "total_revenue", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Cumulative Revenue (All-Time)", "config": {"meta": {}}, "time_granularity": null}, {"name": "cumulative_revenue_ttm", "description": "Cumulative revenue for the trailing twelve months", "type": "cumulative", "type_params": {"measure": {"name": "total_revenue", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 12, "granularity": "month"}, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": {"window": {"count": 12, "granularity": "month"}, "grain_to_date": null, "period_agg": "first"}, "input_measures": [{"name": "total_revenue", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Cumulative Revenue (TTM)", "config": {"meta": {}}, "time_granularity": null}, {"name": "monthly_customers", "description": "Number of active monthly customers", "type": "cumulative", "type_params": {"measure": {"name": "total_customers", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 1, "granularity": "month"}, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": {"window": {"count": 1, "granularity": "month"}, "grain_to_date": null, "period_agg": "first"}, "input_measures": [{"name": "total_customers", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Monthly Active Customers", "config": {"meta": {}}, "time_granularity": null}, {"name": "average_revenue_per_customer", "description": "The average revenue per customer", "type": "ratio", "type_params": {"measure": null, "numerator": {"name": "total_revenue", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, "denominator": {"name": "total_customers", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": null, "input_measures": [{"name": "total_revenue", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "total_customers", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Average Revenue per Customer", "config": {"meta": {}}, "time_granularity": null}, {"name": "total_customers", "description": "The total customers for the business", "type": "simple", "type_params": {"measure": {"name": "total_customers", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": null, "input_measures": [{"name": "total_customers", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Total Customers", "config": {"meta": {}}, "time_granularity": null}, {"name": "total_profit", "description": "The total profit for the business", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "revenue - expense", "window": null, "grain_to_date": null, "metrics": [{"name": "total_revenue", "filter": null, "alias": "revenue", "offset_window": null, "offset_to_grain": null}, {"name": "total_expense", "filter": null, "alias": "expense", "offset_window": null, "offset_to_grain": null}], "conversion_type_params": null, "cumulative_type_params": null, "input_measures": [{"name": "total_revenue", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "total_expense", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Total Profit", "config": {"meta": {}}, "time_granularity": null}, {"name": "total_revenue", "description": "The total revenue for the business", "type": "simple", "type_params": {"measure": {"name": "total_revenue", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": null, "input_measures": [{"name": "total_revenue", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Total Revenue", "config": {"meta": {}}, "time_granularity": null}, {"name": "weekly_customers", "description": "Number of active weekly customers", "type": "cumulative", "type_params": {"measure": {"name": "total_customers", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": {"window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "period_agg": "first"}, "input_measures": [{"name": "total_customers", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Weekly Active Customers", "config": {"meta": {}}, "time_granularity": null}, {"name": "total_expense", "description": "The total expense for the business", "type": "simple", "type_params": {"measure": {"name": "total_expense", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": null, "input_measures": [{"name": "total_expense", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Total Expenses", "config": {"meta": {}}, "time_granularity": null}], "project_configuration": {"time_spine_table_configurations": [{"location": "analytics.dbt_lleon.metricflow_time_spine", "column_name": "date_day", "grain": "day"}], "metadata": null, "dsi_package_version": {"major_version": "0", "minor_version": "7", "patch_version": "1"}, "time_spines": []}, "saved_queries": [{"name": "metrics_sales_by_region", "query_params": {"metrics": ["total_revenue", "total_expense", "total_profit"], "group_by": ["TimeDimension('metric_time', 'day')", "Dimension('customer__region')", "Dimension('customer__nation')"], "order_by": [], "limit": null, "where": null}, "description": "Relevant sales metrics by region", "metadata": null, "label": null, "exports": [{"name": "sales_metrics_by_region", "config": {"export_as": "table", "schema_name": "aa_metrics", "alias": "sales_metrics_by_region"}}]}, {"name": "metrics_cumulative_revenue_total", "query_params": {"metrics": ["cumulative_revenue_ttm"], "group_by": ["TimeDimension('metric_time', 'day')"], "order_by": [], "limit": null, "where": null}, "description": "Cumulative total revenue", "metadata": null, "label": null, "exports": [{"name": "cumulative_revenue", "config": {"export_as": "table", "schema_name": "aa_metrics", "alias": "cumulative_revenue"}}]}]}